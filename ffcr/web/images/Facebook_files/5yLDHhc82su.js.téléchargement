if (self.CavalryLogger) { CavalryLogger.start_js(["qlG52"]); }

__d("ProfileDiscoveryIntentStatus",[],(function a(b,c,d,e,f,g){f.exports={DISABLED:"DISABLED",NO_INTENT_SENT_OR_RECEIVED:"NO_INTENT_SENT_OR_RECEIVED",INTENT_SENT:"INTENT_SENT",INTENT_RECEIVED:"INTENT_RECEIVED",INTENT_SENT_AND_RECEIVED:"INTENT_SENT_AND_RECEIVED",INTENT_MATCH_SENT:"INTENT_MATCH_SENT",INTENT_MATCH_RECEIVED:"INTENT_MATCH_RECEIVED"}}),null);
__d("ProfileDiscoveryIntentTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("logger:ProfileDiscoveryIntentLoggerConfig",this.$ProfileDiscoveryIntentTypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("logger:ProfileDiscoveryIntentLoggerConfig",this.$ProfileDiscoveryIntentTypedLogger1,c("Banzai").VITAL)};h.prototype.clear=function(){this.$ProfileDiscoveryIntentTypedLogger1={};return this};h.prototype.updateData=function(j){this.$ProfileDiscoveryIntentTypedLogger1=babelHelpers["extends"]({},this.$ProfileDiscoveryIntentTypedLogger1,j);return this};h.prototype.setDashboardReferrerTypeString=function(j){this.$ProfileDiscoveryIntentTypedLogger1.dashboard_referrer_type_string=j;return this};h.prototype.setEvent=function(j){this.$ProfileDiscoveryIntentTypedLogger1.event=j;return this};h.prototype.setIntentStatus=function(j){this.$ProfileDiscoveryIntentTypedLogger1.intent_status=j;return this};h.prototype.setIntentType=function(j){this.$ProfileDiscoveryIntentTypedLogger1.intent_type=j;return this};h.prototype.setPreviousIntentType=function(j){this.$ProfileDiscoveryIntentTypedLogger1.previous_intent_type=j;return this};h.prototype.setProfileID=function(j){this.$ProfileDiscoveryIntentTypedLogger1.profile_id=j;return this};h.prototype.setReferrerTypeString=function(j){this.$ProfileDiscoveryIntentTypedLogger1.referrer_type_string=j;return this};h.prototype.setVC=function(j){this.$ProfileDiscoveryIntentTypedLogger1.vc=j;return this};h.prototype.updateExtraData=function(j){j=c("nullthrows")(c("GeneratedLoggerUtils").serializeMap(j));c("GeneratedLoggerUtils").checkExtraDataFieldNames(j,i);this.$ProfileDiscoveryIntentTypedLogger1=babelHelpers["extends"]({},this.$ProfileDiscoveryIntentTypedLogger1,j);return this};h.prototype.addToExtraData=function(j,k){var l={};l[j]=k;return this.updateExtraData(l)};var i={dashboard_referrer_type_string:true,event:true,intent_status:true,intent_type:true,previous_intent_type:true,profile_id:true,referrer_type_string:true,vc:true};f.exports=h}),null);
__d("ProfileDiscoveryIntentButton",["BasicFBNux","Event"],(function a(b,c,d,e,f,g){var h={listen:function i(j,k){c("Event").listen(j,"click",function(){return k.hide()})},registerNUXEvents:function i(j,k){c("BasicFBNux").onView(k);c("BasicFBNux").subscribeHide(j,k)}};f.exports=h}),null);
__d("ProfileDiscoveryIntentRef",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({WWW_PROFILE:1,WWW_HOVERCARD:2,MTOUCH_ACTION_BAR:3,MTOUCH_BANNER:4,IOS_PROFILE:5,IOS_PROFILE_BANNER:6,IOS_DASHBOARD:7,IOS_ENTITY_CARD:8,IOS_ENTITY_CARD_BANNER:9,ANDROID_PROFILE:10,ANDROID_PROFILE_BANNER:11,ANDROID_DASHBOARD:12,ANDROID_ENTITY_CARD:13,ANDROID_ENTITY_CARD_BANNER:14,WWW_BANNER:15,IOS_PROFILE_DISCOVERY_PEOPLE_LIST:16,MTOUCH_DASHBOARD:17,WWW_ENTITY_CARD:18,WWW_DASHBOARD:19,ANDROID_PROFILE_DISCOVERY_PEOPLE_LIST:20,ANDROID_PROFILE_DISCOVERY_PEOPLE_GRID:21,MTOUCH_SUGGESTIONS:22,WWW_SUGGESTIONS:23,ANDROID_SEARCH_CTA:24,PROFILE_SELECTOR:25,DASHBOARD_SELECTOR:26,ENTITY_CARD_SELECTOR:27,MTOUCH_ENTITY_CARD:28,HOVERCARD_SELECTOR:29})}),null);
__d("ProfileDiscoveryIntentsSelectorLayer.react",["cx","BootloadedComponent.react","JSResource","React","ReactAbstractContextualDialog","ReactLayer","XUISpinner.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("ReactLayer").createClass(c("ReactAbstractContextualDialog").createSpec({displayName:"SelectorLayer",theme:{wrapperClassName:"_4wet"}}));i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;l.prototype.render=function(){return c("React").createElement("div",{onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave},c("React").createElement(k,{autoFocus:false,position:"above",shown:true,contextRef:this.$ProfileDiscoveryIntentsSelectorLayer1()},c("React").createElement(c("BootloadedComponent.react"),babelHelpers["extends"]({bootloadLoader:c("JSResource")("ProfileDiscoveryIntentsMenu.react").__setRef("ProfileDiscoveryIntentsSelectorLayer.react"),bootloadPlaceholder:c("React").createElement(c("XUISpinner.react"),{size:"large"})},this.props))))};l.prototype.$ProfileDiscoveryIntentsSelectorLayer1=function(){if(this.props.contextRef)return this.props.contextRef;else if(this.props.button)return function(){return this.props.button}.bind(this);else return null};function l(){i.apply(this,arguments)}f.exports=l}),null);
__d("XProfileDiscoverySendIntentController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/profile/discovery_intents/send/",{intent_type:{type:"String"},recipient_id:{type:"FBID"},ref:{type:"Enum",enumType:0}})}),null);
__d("ProfileDiscoveryIntentsLink.react",["AsyncRequest","Button","Event","ProfileDiscoveryIntentStatus","ProfileDiscoveryIntentsSelectorLayer.react","ProfileDiscoveryIntentRef","ProfileDiscoveryIntentTypedLogger","React","ReactRenderer","SimpleXUIDialog","SubscriptionsHandler","XProfileDiscoverySendIntentController"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=525,k=750;h=babelHelpers.inherits(l,c("React").Component);i=h&&h.prototype;function l(m){__p&&__p();i.constructor.call(this,m);this.$ProfileDiscoveryIntentsLink6=function(){return this.setState({mouseOverMenu:true},function(){return this.$ProfileDiscoveryIntentsLink7()}.bind(this))}.bind(this);this.$ProfileDiscoveryIntentsLink8=function(){return this.setState({mouseOverMenu:false},function(){if(!this.state.mouseOverMenu&&!this.state.mouseOverButton)this.$ProfileDiscoveryIntentsLink9()}.bind(this))}.bind(this);this.$ProfileDiscoveryIntentsLink3=function(){return this.setState({mouseOverButton:true},function(){return this.$ProfileDiscoveryIntentsLink7()}.bind(this))}.bind(this);this.$ProfileDiscoveryIntentsLink4=function(){return this.setState({mouseOverButton:false},function(){if(!this.state.mouseOverMenu&&!this.state.mouseOverButton)this.$ProfileDiscoveryIntentsLink9()}.bind(this))}.bind(this);this.$ProfileDiscoveryIntentsLink5=function(){if(this.props.intentStatus===c("ProfileDiscoveryIntentStatus").INTENT_SENT||this.props.intentStatus===c("ProfileDiscoveryIntentStatus").INTENT_MATCH_SENT){this.$ProfileDiscoveryIntentsLink10(this.props.intentType,"cancel_tap",this.props.buttonRef);c("SimpleXUIDialog").showConfirm(this.props.cancelConfirmTitle,this.props.cancelConfirmTitle,function(n){return n&&this.$ProfileDiscoveryIntentsLink11()}.bind(this))}else this.$ProfileDiscoveryIntentsLink11()}.bind(this);this.$ProfileDiscoveryIntentsLink13=function(n){if((this.props.intentStatus===c("ProfileDiscoveryIntentStatus").INTENT_SENT||this.props.intentStatus===c("ProfileDiscoveryIntentStatus").INTENT_MATCH_SENT)&&n===this.props.intentType){this.$ProfileDiscoveryIntentsLink10(n,"selector_no_op",this.props.flyoutRef);this.$ProfileDiscoveryIntentsLink14()}else{this.$ProfileDiscoveryIntentsLink12();var o=c("XProfileDiscoverySendIntentController").getURIBuilder().setString("intent_type",n).setFBID("recipient_id",this.props.userID).setEnum("ref",c("ProfileDiscoveryIntentRef")[this.props.flyoutRef]).getURI();new(c("AsyncRequest"))().setURI(o).send()}}.bind(this);this.$ProfileDiscoveryIntentsLink14=function(){return this.setState({menuShown:false,mouseOverButton:false,mouseOverMenu:false})}.bind(this);this.$ProfileDiscoveryIntentsLink15=function(){return this.setState({menuShown:true})}.bind(this);this.state={menuShown:false,mouseOverButton:false,mouseOverMenu:false};this.$ProfileDiscoveryIntentsLink2=new(c("SubscriptionsHandler"))()}l.prototype.componentDidMount=function(){this.$ProfileDiscoveryIntentsLink2.addSubscriptions(c("Event").listen(this.props.button,"mouseenter",this.$ProfileDiscoveryIntentsLink3),c("Event").listen(this.props.button,"mouseleave",this.$ProfileDiscoveryIntentsLink4),c("Event").listen(this.props.button,"click",this.$ProfileDiscoveryIntentsLink5))};l.prototype.componentWillUnmount=function(){this.$ProfileDiscoveryIntentsLink2.release()};l.prototype.$ProfileDiscoveryIntentsLink11=function(){this.$ProfileDiscoveryIntentsLink12();new(c("AsyncRequest"))().setURI(this.props.sendURI).send()};l.prototype.$ProfileDiscoveryIntentsLink7=function(){clearTimeout(this.$ProfileDiscoveryIntentsLink1);var m=j;if(!this.state.menuShown)this.$ProfileDiscoveryIntentsLink1=setTimeout(this.$ProfileDiscoveryIntentsLink15,m)};l.prototype.$ProfileDiscoveryIntentsLink9=function(){clearTimeout(this.$ProfileDiscoveryIntentsLink1);var m=k;if(this.state.menuShown)this.$ProfileDiscoveryIntentsLink1=setTimeout(function(){this.$ProfileDiscoveryIntentsLink10(null,"selector_no_op",this.props.flyoutRef);this.$ProfileDiscoveryIntentsLink14()}.bind(this),m)};l.prototype.$ProfileDiscoveryIntentsLink16=function(){clearTimeout(this.$ProfileDiscoveryIntentsLink1);this.$ProfileDiscoveryIntentsLink2.release();this.$ProfileDiscoveryIntentsLink14()};l.prototype.$ProfileDiscoveryIntentsLink12=function(){this.$ProfileDiscoveryIntentsLink16();c("Button").setEnabled(this.props.button,false)};l.prototype.$ProfileDiscoveryIntentsLink10=function(m,event,n){new(c("ProfileDiscoveryIntentTypedLogger"))().setEvent(event).setIntentStatus(this.props.intentStatus).setIntentType(m).setPreviousIntentType(this.props.intentType).setProfileID(this.props.userID).setReferrerTypeString(n).log()};l.prototype.render=function(){if(!this.state.menuShown)return null;return c("React").createElement(c("ProfileDiscoveryIntentsSelectorLayer.react"),babelHelpers["extends"]({onIntentClick:this.$ProfileDiscoveryIntentsLink13,onMouseLeave:this.$ProfileDiscoveryIntentsLink8,onMouseEnter:this.$ProfileDiscoveryIntentsLink6},this.props))};l.registerSelector=function(m,n){c("ReactRenderer").constructAndRenderComponent(l,n,m)};f.exports=l}),null);