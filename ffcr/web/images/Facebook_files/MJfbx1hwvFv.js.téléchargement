if (self.CavalryLogger) { CavalryLogger.start_js(["ZBVfC"]); }

__d("BasePrivacyWidget",["Arbiter","ArbiterMixin","DOM","Form","PrivacyConst"],(function a(b,c,d,e,f,g){__p&&__p();var h=c("PrivacyConst").BaseValue;function i(){}Object.assign(i.prototype,c("ArbiterMixin"),{init:function j(k,l,m,n){this._controllerId=l;this._root=k;this._options=Object.assign(n||{},m);this._formDataKey="privacy_data"},getData:function j(){return this._model.getData()},_getPrivacyData:function j(k){k=k||this._fbid;var l={};l[k]=this.getData();return l},getRoot:function j(){return this._root},_initMenu:function j(k){this._menu=k;this._menu.subscribe("itemclick",this._onMenuSelect.bind(this))},_isCustomSetting:function j(k){return k==h.CUSTOM},_isEveryoneSetting:function j(k){return k==h.EVERYONE},_updateSelector:function j(k){var l=this._model.value;if(!this._isCustomSetting(l)){this._onPrivacyChanged();return}},_onPrivacyChanged:function j(){this._saveFormData();c("Arbiter").inform("Form/change",{node:this.getRoot()});this.inform("privacyChanged",this.getData());c("Arbiter").inform("UIPrivacyWidget/globalPrivacyChanged",{fbid:this._fbid,data:this.getData()})},_saveFormData:function j(){var k=c("DOM").find(this.getRoot(),"div.UIPrivacyWidget_Form");c("DOM").empty(k);var l={};if(this._options.useLegacyFormData)l[this._formDataKey]=this.getData();else l[this._formDataKey]=this._getPrivacyData();c("Form").createHiddenInputs(l,k)}});f.exports=i}),null);
__d("TargetedPrivacyModel",["PrivacyConst","TargetedPrivacyConsts"],(function a(b,c,d,e,f,g){__p&&__p();var h=c("PrivacyConst").BaseValue;function i(){__p&&__p();this.value=h.EVERYONE;this.countries=[];this.countries_names=[];this.location_type=c("TargetedPrivacyConsts").LOC_ALL;this.location_ids=[];this.location_ids_names=[];this.locales=[];this.locales_names=[];this.gender=c("TargetedPrivacyConsts").GENDER_BOTH;this.age_min=0;this.age_max=0;return this}Object.assign(i.prototype,{init:function j(k,l,m,n,o,p,q,r,s,t,u,v,w){__p&&__p();this.value=k;this.countries=l.slice();this.countries_names=m.slice();this.location_type=n;this.location_ids=o.slice();this.location_ids_names=p.slice();this.age_min=q;this.age_max=r;this.gender=s;this.locales=t.slice();this.locales_names=u.slice();this.see_regions=w;this.see_cities=v},getData:function j(){__p&&__p();var k={};if(this.value==h.EVERYONE)return k;var l=["countries","location_type","location_ids","age_min","age_max","gender","locales"];for(var m=0;m<l.length;++m){var n=l[m];k[n]=this[n]}k.genders=k.gender;return k}});f.exports=i}),null);
__d("UITargetedPrivacyWidget",["fbt","ArbiterMixin","AsyncRequest","BasePrivacyWidget","Dialog","MenuSelectableItem","PrivacyConst","React","TargetedPrivacyModel","Tooltip","$","classWithMixins","mixin"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j;i=babelHelpers.inherits(k,c("classWithMixins")(c("BasePrivacyWidget"),c("mixin")(c("ArbiterMixin"))));j=i&&i.prototype;function k(l,m,n,o,p,q,r,s){"use strict";__p&&__p();j.constructor.call(this);var t={useLegacyFormData:true};this.init(m,n,t,s);this._profileId=o;this._model=new(c("TargetedPrivacyModel"))();this._formDataKey="targeted_privacy_data";this._button=p;this._everyoneItem=this._retrieveEveryoneItem(l);this._customItem=this._retrieveCustomItem(l);this._defaultTooltip=q;this._shouldDisplayTooltip=r;k.instances[this._controllerId]=this;this._initMenu(l);this._saveFormData()}k.prototype._onMenuSelect=function(l,m){"use strict";__p&&__p();var n=m.item;if(!n instanceof c("MenuSelectableItem"))return;var o=n.getValue();if(o==c("PrivacyConst").BaseValue.EVERYONE)this._model=new(c("TargetedPrivacyModel"))();this._saveFormData();this._updateSelector();this._updateTooltipForButtonFromItem(n);if(this._isCustomSetting(o))this._showDialog()};k.prototype._updateTooltipForButtonFromItem=function(l){"use strict";if(!this._shouldDisplayTooltip)return;var m=l.getValue();if(this._isCustomSetting(m))c("Tooltip").set(this._button,h._("Personnaliser"));else c("Tooltip").set(this._button,this._defaultTooltip)};k.prototype.reset=function(){"use strict";this._model=new(c("TargetedPrivacyModel"))();this._updateSelector();this._saveFormData();return this};k.prototype.setProfileID=function(l){"use strict";this._profileId=l};k.prototype._showDialog=function(){"use strict";var l={controller_id:this._controllerId,profile_id:this._profileId};this._dialog=new(c("Dialog"))().setAsync(new(c("AsyncRequest"))().setURI(k.DIALOG_URI).setData(l)).setModal(true).show()};k.prototype._updateSelector=function(){var l=arguments.length<=0||arguments[0]===undefined?false:arguments[0];"use strict";j._updateSelector.call(this);if(l&&!this._isCustomSetting(this._model.value)){this._everyoneItem.select();this._customItem.deselect();this._updateTooltipForButtonFromItem(this._everyoneItem);this._menu.inform("change",this._menu.getSelection())}};k.prototype._retrieveEveryoneItem=function(l){"use strict";return this._retrieveTargetItem(l,this._isEveryoneSetting)};k.prototype._retrieveCustomItem=function(l){"use strict";return this._retrieveTargetItem(l,this._isCustomSetting)};k.prototype._retrieveTargetItem=function(l,m){"use strict";return l._items.find(function(n){return n instanceof c("MenuSelectableItem")&&m(n.getValue())})};k.getInstance=function(l){"use strict";return this.instances[l]};Object.assign(k,{DIALOG_URI:"/ajax/privacy/targeted_privacy_widget_dialog.php",instances:{}});f.exports=k}),null);
__d("XPagesShareActorListController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/share/actors/",{target_id:{type:"Int",required:true}})}),null);
__d("ShareActorSelector.react",["ActorSelector.react","AsyncRequest","React","XPagesShareActorListController"],(function a(b,c,d,e,f,g){__p&&__p();var h,i,j=c("React").PropTypes,k=110;h=babelHelpers.inherits(l,c("React").Component);i=h&&h.prototype;function l(){__p&&__p();var m,n;"use strict";for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=i.constructor).call.apply(m,[this].concat(p)),this.state={actorIDs:[],loading:true,selectedActorID:null},this.$ShareActorSelector1=function(){this.setState({loading:true});var r=c("XPagesShareActorListController").getURIBuilder().setInt("target_id",this.props.targetID).getURI();new(c("AsyncRequest"))().setURI(r).setHandler(function(s){var t=s.getPayload().actorIDs,u=this.props.targetID;this.setState({actorIDs:t,loading:false,selectedActorID:u});this.props.onChange({value:u})}.bind(this)).send()}.bind(this),this.$ShareActorSelector2=function(r){this.setState({selectedActorID:r.value});this.props.onChange(r)}.bind(this),n}l.prototype.componentWillMount=function(){"use strict";this.$ShareActorSelector1()};l.prototype.render=function(){"use strict";if(!this.state.actorIDs||!this.state.selectedActorID)return c("React").createElement("div",null);return c("React").createElement(c("ActorSelector.react"),{actorIDs:this.state.actorIDs,coverEnabled:false,loading:this.state.loading,onChange:this.$ShareActorSelector2,ref:"selector",selectedActorID:this.state.selectedActorID,showName:true,showNameMaxWidth:k,suppressed:this.state.actorIDs.length===1})};l.prototype.componentDidUpdate=function(m){"use strict";if(this.props.targetID!==m.targetID)this.$ShareActorSelector1()};l.propTypes={onChange:j.func.isRequired,targetID:j.string.isRequired};f.exports=l}),null);
__d("ShareDialogAttachment.react",["cx","fbt","React","emptyFunction","Link.react"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k,l=c("React").PropTypes;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;function m(){var n,o;"use strict";for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.state={expanded:false},this.$ShareDialogAttachment1=function(){if(this.state.expanded)this.props.onCollapse();else this.props.onExpand();this.setState({expanded:!this.state.expanded})}.bind(this),o}m.prototype.render=function(){"use strict";__p&&__p();var n;if(this.props.overflowing){var o;if(this.state.expanded)o=c("React").createElement("span",null,c("React").createElement("span",{className:"_u_1"},"\u2191"),"\xa0",i._("R\u00e9duire"));else o=c("React").createElement("span",null,i._("Afficher tout"),"\xa0",c("React").createElement("span",{className:"_u_1"},"\u2193"));n=c("React").createElement("p",{className:"_u_2"},c("React").createElement(c("Link.react"),{className:"_u_3",onClick:this.$ShareDialogAttachment1},o))}var p="_u_4 _5p9g"+(this.props.overflowing&&!this.state.expanded?" _u_5":"");return c("React").createElement("div",{className:p},n,this.props.children)};m.propTypes={overflowing:l.bool,onExpand:l.func,onCollapse:l.func};m.defaultProps={overflowing:false,onExpand:c("emptyFunction"),onCollapse:c("emptyFunction")};f.exports=m}),null);
__d("ShareDialogDropdownForSharePostOrLink.react",["cx","fbt","React","XUICheckboxInput.react","emptyFunction"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k,l="post_and_link",m="link_only",n=c("React").PropTypes;g.framework="React";j=babelHelpers.inherits(o,c("React").Component);k=j&&j.prototype;function o(){var p,q;"use strict";for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=k.constructor).call.apply(p,[this].concat(s)),this.state={value:l},this.onChange=function(u){this.setState({value:u?m:l});this.props.onSelectSharePostOrLink(!u)}.bind(this),q}o.prototype.componentDidMount=function(){"use strict";this.props.onSelectSharePostOrLink(this.state.value===l)};o.prototype.render=function(){"use strict";return c("React").createElement("div",{className:"_3-9a"},c("React").createElement(c("XUICheckboxInput.react"),{name:"share type",checked:this.state.value===l,onChange:this.onChange.bind(this,this.state.value===l)}),i._("Inclure la publication originale"))};o.propTypes={onSelectSharePostOrLink:n.func};o.defaultProps={onSelectSharePostOrLink:c("emptyFunction")};f.exports=o}),null);
__d("ShareDialogWarningNotice.react",["ix","cx","fbt","FBToggle.react","Image.react","LeftRight.react","React","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){__p&&__p();var k,l,m=c("React").PropTypes;k=babelHelpers.inherits(n,c("React").Component);l=k&&k.prototype;n.prototype.render=function(){"use strict";return c("React").createElement(c("FBToggle.react"),{className:"_3ba_"},c("React").createElement(c("LeftRight.react"),{className:"_3bb0"},c("React").createElement("span",{className:"_3bb1"},c("React").createElement(c("Image.react"),{src:h("139498")})),c("React").createElement("span",{className:"_3bb2"},j._("Qui peut voir \u00e7a\u00a0?"))),c("React").createElement("div",{className:"_3bb3"},c("React").createElement("span",{dangerouslySetInnerHTML:this.props.warning})))};function n(){"use strict";k.apply(this,arguments)}n.propTypes={warning:m.object.isRequired};f.exports=n}),null);
__d("ShareDialogStatusTypes",["getObjectValues"],(function a(b,c,d,e,f,g){var h=Object.freeze({COMPOSING:"composing",ERROR:"error",POSTING:"posting",SUCCESS:"success"}),i=c("getObjectValues")(h);f.exports=babelHelpers["extends"]({},h,{ALL:i,isValid:function j(k){return i.some(function(l){return l===k})}})}),null);
__d("ReactShareDialogAttachmentContainer.react",["cx","csx","ReactComposerContextTypes","ShareDialogAttachment.react","DOMContainer.react","DOMQuery","LitestandShareAttachment","React","ReactDOM"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j=c("React").PropTypes,k=400,l=c("React").createClass({displayName:"ReactShareDialogAttachmentContainer",contextTypes:c("ReactComposerContextTypes"),propTypes:{attachment:j.instanceOf(HTMLElement)},getInitialState:function m(){return{shouldOverflow:false,hasSphericalPhoto:false}},componentDidMount:function m(){__p&&__p();setTimeout(function(){__p&&__p();var n=false,o=false;if(this.props.attachment&&this.refs.attachment){var p=c("ReactDOM").findDOMNode(this.refs.attachment);if(p){var q=c("DOMQuery").scry(p,"._6m2")[0],r=c("DOMQuery").scry(p,"._31bl");c("LitestandShareAttachment").init(q||p);n=p.clientHeight>k;o=r.length>0}}this.setState({shouldOverflow:n,hasSphericalPhoto:o})}.bind(this),0)},render:function m(){if(!this.props.attachment)return null;var n=null;if(this.state.hasSphericalPhoto===false)n=c("React").createElement("div",{className:"_2nzp"});return c("React").createElement(c("ShareDialogAttachment.react"),{overflowing:this.state.shouldOverflow},c("React").createElement("div",{ref:"attachment",className:"_51jo"},c("React").createElement(c("DOMContainer.react"),null,this.props.attachment),n))}});f.exports=l}),null);
__d("ReactShareDialogComposerActionType",["keyMirror"],(function a(b,c,d,e,f,g){f.exports=c("keyMirror")({SET_SHARE_DIALOG_TARGET:null,SET_SHARE_DIALOG_TARGET_INFO:null,SET_SHARE_DIALOG_TARGETED_PRIVACY_DATA:null,SET_SHARE_DIALOG_TYPE:null,SET_SHARE_TO_GROUPS_AS_PAGE:null})}),null);
__d("ReactShareDialogComposerStore",["ReactComposerStoreBase","ReactShareDialogComposerActionType"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("ReactComposerStoreBase"));i=h&&h.prototype;function j(){"use strict";__p&&__p();var k;i.constructor.call(this,function(){return{target:null,targetInfo:{}}},function(l){__p&&__p();switch(l.type){case c("ReactShareDialogComposerActionType").SET_SHARE_DIALOG_TARGET:k&&k.$ReactShareDialogComposerStore1(l);break;case c("ReactShareDialogComposerActionType").SET_SHARE_DIALOG_TARGET_INFO:k&&k.$ReactShareDialogComposerStore2(l);break;case c("ReactShareDialogComposerActionType").SET_SHARE_DIALOG_TARGETED_PRIVACY_DATA:k&&k.$ReactShareDialogComposerStore3(l);break;case c("ReactShareDialogComposerActionType").SET_SHARE_DIALOG_TYPE:k&&k.$ReactShareDialogComposerStore4(l);break;case c("ReactShareDialogComposerActionType").SET_SHARE_TO_GROUPS_AS_PAGE:k&&k.$ReactShareDialogComposerStore5(l);break}});k=this}j.prototype.getTarget=function(k){"use strict";return this.getComposerData(k).target};j.prototype.getTargetInfo=function(k){"use strict";return this.getComposerData(k).targetInfo};j.prototype.getTargetedPrivacyData=function(k){"use strict";return this.getComposerData(k).targetedPrivacyData};j.prototype.getShareDialogType=function(k){"use strict";return this.getComposerData(k).shareType};j.prototype.getShareToGroupsAsPage=function(k){"use strict";return!!this.getComposerData(k).shareToGroupsAsPage};j.prototype.$ReactShareDialogComposerStore1=function(k){"use strict";var l=this.getComposerData(k.composerID);l.target=k.target;this.emitChange(k.composerID)};j.prototype.$ReactShareDialogComposerStore2=function(k){"use strict";var l=this.getComposerData(k.composerID);l.targetInfo=k.targetInfo;this.emitChange(k.composerID)};j.prototype.$ReactShareDialogComposerStore3=function(k){"use strict";var l=this.getComposerData(k.composerID);l.targetedPrivacyData=k.targetedPrivacyData;this.emitChange(k.composerID)};j.prototype.$ReactShareDialogComposerStore4=function(k){"use strict";var l=this.getComposerData(k.composerID);l.shareType=k.shareType;this.emitChange(k.composerID)};j.prototype.$ReactShareDialogComposerStore5=function(k){"use strict";var l=this.getComposerData(k.composerID);l.shareToGroupsAsPage=k.shareToGroupsAsPage;this.emitChange(k.composerID)};f.exports=new j()}),null);
__d("ReactShareDialogComposerActions",["ReactComposerDispatcher","ReactShareDialogComposerActionType","ReactShareDialogComposerStore"],(function a(b,c,d,e,f,g){c("ReactShareDialogComposerStore");var h={setTarget:function i(j,k){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactShareDialogComposerActionType").SET_SHARE_DIALOG_TARGET,target:k})},setTargetInfo:function i(j,k){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactShareDialogComposerActionType").SET_SHARE_DIALOG_TARGET_INFO,targetInfo:k})},setTargetedPrivacyData:function i(j,k){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactShareDialogComposerActionType").SET_SHARE_DIALOG_TARGETED_PRIVACY_DATA,targetedPrivacyData:k})},setTypeOfShare:function i(j,k){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactShareDialogComposerActionType").SET_SHARE_DIALOG_TYPE,shareType:k})},setShareToGroupAsPage:function i(j,k){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactShareDialogComposerActionType").SET_SHARE_TO_GROUPS_AS_PAGE,shareToGroupsAsPage:k})}};f.exports=h}),null);
__d("ReactShareDialogComposerStatusAttachmentFooter.react",["ix","cx","fbt","invariant","ReactComposerActivityTaggerButton.react","ReactComposerActivityTaggerContainer.react","ReactComposerAudienceSelectorContainer.react","ReactComposerContextTypes","ReactComposerFooterActions.react","ReactComposerFooterContainer.react","ReactComposerLocationTaggerButton.react","ReactComposerLocationTaggerContainer.react","ReactComposerPeopleTaggerButton.react","ReactComposerPeopleTaggerContainer.react","ReactComposerAlbumTaggerButtonContainer.react","ReactComposerCollectionSelectorContainerGatedModule","ReactComposerTaggerButtons.react","ReactComposerTaggers.react","ReactComposerTaggerType","ReactComposerTaggerViewStyles","ShareDialogAudienceTypes","ReactShareDialogComposerActions","ReactShareDialogComposerStore","BasicTypeaheadLoggerJSConstants","Image.react","InlineBlock.react","Tooltip","Arbiter","LeftRight.react","PlaceSearchConstants","ReactComponentWithPureRenderMixin","React","SubscriptionsHandler","UITargetedPrivacyWidget","XUIAmbientNUX.react","XUIButton.react","emptyFunction"],(function a(b,c,d,e,f,g,h,i,j,k){__p&&__p();var l=c("ReactComposerCollectionSelectorContainerGatedModule").module,m=c("BasicTypeaheadLoggerJSConstants").EventNames,n=c("React").PropTypes,o="react_share_dialog_post_button",p=c("React").createClass({displayName:"ReactShareDialogComposerStatusAttachmentFooter",_subscriptionsHandler:null,_targetingWidgetInstance:null,contextTypes:c("ReactComposerContextTypes"),mixins:[c("ReactComponentWithPureRenderMixin")],propTypes:{onActivityNUXClose:n.func,onCancel:n.func,onPost:n.func,onSelectActivity:n.func,onSelectLocation:n.func,pagePrivacySelector:n.instanceOf(HTMLElement),placeID:n.string,posting:n.bool,privacySelector:n.instanceOf(HTMLElement),shouldHideAllButtons:n.bool,showActivityNUX:n.bool,showWhichTaggers:n.object.isRequired,taggersConfig:n.object,taggersSource:n.object,target:c("ShareDialogAudienceTypes").isValid,targetInfo:n.object.isRequired,targetingWidgetInstance:n.object},getDefaultProps:function q(){var r={};r[c("ReactComposerTaggerType").PEOPLE]=false;r[c("ReactComposerTaggerType").LOCATION]=false;r[c("ReactComposerTaggerType").ACTIVITY]=false;return{onCancel:c("emptyFunction"),onPost:c("emptyFunction"),onActivityNUXClose:c("emptyFunction"),onSelectActivity:c("emptyFunction"),onSelectLocation:c("emptyFunction"),shouldHideAllButtons:false,showActivityNUX:false,showWhichTaggers:r,targetInfo:{}}},componentWillMount:function q(){this._targetingWidgetInstance=null;this._subscriptionsHandler=new(c("SubscriptionsHandler"))();this._subscriptionsHandler.addSubscriptions(c("Arbiter").subscribe("UIPrivacyWidget/globalPrivacyChanged",function(r,s){c("ReactShareDialogComposerActions").setTargetedPrivacyData(this.context.composerID,s.data)}.bind(this)))},componentWillUnmount:function q(){this._subscriptionsHandler.release()},render:function q(){return c("React").createElement("div",null,this._getTaggers(),c("React").createElement(c("ReactComposerFooterContainer.react"),{background:"light-wash"},c("React").createElement(c("LeftRight.react"),null,this._getButtons(),this._getFooterActions())))},_shouldHideAllTaggers:function q(){for(var r in this.props.showWhichTaggers)if(this.props.showWhichTaggers[r])return false;return true},_getTaggers:function q(){if(this._shouldHideAllTaggers())return c("React").createElement("noscript",null);this.props.taggersConfig!=null&&this.props.taggersSource!=null||k(0);var r=this.props.taggersConfig[c("ReactComposerTaggerType").OG],s=this.props.showWhichTaggers[c("ReactComposerTaggerType").PEOPLE]?c("React").createElement(c("ReactComposerPeopleTaggerContainer.react"),{actorID:this.context.actorID,layerPosition:"above",taggerSource:this.props.taggersSource[c("ReactComposerTaggerType").PEOPLE],taggerViewStyle:c("ReactComposerTaggerViewStyles").DEFAULT}):null,t=this.props.showWhichTaggers[c("ReactComposerTaggerType").LOCATION]?c("React").createElement(c("ReactComposerLocationTaggerContainer.react"),{actorID:this.context.actorID,layerPosition:"above",onSelect:this.props.onSelectLocation,taggerSource:this.props.taggersSource[c("ReactComposerTaggerType").LOCATION],taggerViewStyle:c("ReactComposerTaggerViewStyles").SCROLLABLE_SHORT,typeaheadLoggerEventName:m.REACT_SHARE_DIALOG_LOCATION_TAGGER,typeaheadSearchSource:c("PlaceSearchConstants").SOURCE_W_COMPOSER}):null,u=this.props.showWhichTaggers[c("ReactComposerTaggerType").ACTIVITY]?c("React").createElement(c("ReactComposerActivityTaggerContainer.react"),{actorID:this.context.actorID,layerPosition:"above",onSelect:this.props.onSelectActivity,placeID:this.props.placeID,taggerSource:this.props.taggersSource[c("ReactComposerTaggerType").ACTIVITY],actionTypeIDsWithNoFreeForm:r.actionTypeIDsWithNoFreeForm,actionTypeIDsToPrefetch:r.actionTypeIDsToPrefetch,rankVerbs:r.rankVerbs,typeaheadLoggerEventName:m.REACT_SHARE_DIALOG_OG_TAGGER,actionTaggerViewStyle:c("ReactComposerTaggerViewStyles").SCROLLABLE_SHORT,objectTaggerViewStyle:c("ReactComposerTaggerViewStyles").SCROLLABLE_SHORT}):null;return c("React").createElement(c("ReactComposerTaggers.react"),null,s,t,u)},_getButtons:function q(){if(this._shouldHideAllTaggers()||this.props.posting)return c("React").createElement("noscript",null);var r=this.props.showWhichTaggers[c("ReactComposerTaggerType").PEOPLE]?c("React").createElement(c("ReactComposerPeopleTaggerButton.react"),null):null,s=this.props.showWhichTaggers[c("ReactComposerTaggerType").LOCATION]?c("React").createElement(c("ReactComposerLocationTaggerButton.react"),null):null,t=this.props.showWhichTaggers[c("ReactComposerTaggerType").ACTIVITY]?c("React").createElement(c("ReactComposerActivityTaggerButton.react"),{ref:"activityButton"}):null,u=this.props.target===c("ShareDialogAudienceTypes").OWN&&this.props.showWhichTaggers[c("ReactComposerTaggerType").ALBUM]&&l?c("React").createElement(l,{addAnyPostToAlbum:true,canCreateSharingSpace:false,showSharingSpaces:false,alternateTriggerComponent:c("React").createElement(c("ReactComposerAlbumTaggerButtonContainer.react"),null)}):null;return c("React").createElement(c("ReactComposerTaggerButtons.react"),null,r,s,t,u,this._getActivityNUX())},_getActivityNUX:function q(){if(!this.props.showActivityNUX||!this.refs.activityButton)return null;return c("React").createElement(c("XUIAmbientNUX.react"),{contextRef:function(){return this.refs.activityButton}.bind(this),onCloseButtonClick:this.props.onActivityNUXClose,position:"above",shown:true},j._("Nouveau\u00a0! Vous pouvez choisir de partager vos humeurs et vos activit\u00e9s."))},_getFooterActions:function q(){__p&&__p();var r=null,s=null,t=null;if(!this.props.posting)if(this.props.target===c("ShareDialogAudienceTypes").OWN)r=c("React").createElement(c("ReactComposerAudienceSelectorContainer.react"),{audienceXHP:this.props.privacySelector,viewerIsTarget:true});else if(this.props.target===c("ShareDialogAudienceTypes").GROUP){var u=j._("Personnes qui peuvent voir les publications dans le groupe");s=c("React").createElement(c("InlineBlock.react"),babelHelpers["extends"]({className:"_3-90"},c("Tooltip").propsFor(u)),c("React").createElement(c("Image.react"),{className:"_4q3o",src:h("83921")}))}else if(this.props.target===c("ShareDialogAudienceTypes").PAGE&&this.props.targetInfo.audienceTargets&&this.props.targetInfo.audienceTargets[0]===this.props.targetInfo.userId){t=c("React").createElement(c("ReactComposerAudienceSelectorContainer.react"),{audienceXHP:this.props.pagePrivacySelector,viewerIsTarget:false});if(!this._targetingWidgetInstance)this._targetingWidgetInstance=c("UITargetedPrivacyWidget").getInstance(this.props.pagePrivacySelector.id);if(this._targetingWidgetInstance){var v=c("ReactShareDialogComposerStore").getTargetInfo(this.context.composerID).userId;this._targetingWidgetInstance.setProfileID(v)}}var w=this.props.target!==c("ShareDialogAudienceTypes").OWN&&!this.props.targetInfo.audienceTargets,x=this.props.postButtonLabel;if(x===undefined)if(this.props.target!==c("ShareDialogAudienceTypes").MESSAGE)x=this.props.posting?j._("Publication"):j._("Publier");else x=this.props.posting?j._("Envoi en cours"):j._("Envoyer");var y=this.props.shouldHideAllButtons?null:c("React").createElement("div",{className:"_4-88"},c("React").createElement(c("XUIButton.react"),{use:"default",label:j._("Annuler"),className:"_2g60",onClick:this.props.onCancel}),c("React").createElement(c("XUIButton.react"),{use:"confirm",label:x,className:"_2g61",onClick:this.props.onPost,disabled:w,"data-testid":o}));return c("React").createElement(c("ReactComposerFooterActions.react"),null,r,s,t,y)}});f.exports=p}),null);
__d("ReactShareDialogComposerStatusAttachmentFooterContainer.react",["ReactComposerContextTypes","ReactComposerPropsAndStoreBasedStateMixin","ReactComposerTaggerActions","ReactComposerTaggerStore","ReactComposerTaggerType","ComposerNUXType","ComposerXNUX","ReactShareDialogComposerStatusAttachmentFooter.react","ReactShareDialogComposerStore","ReactComponentWithPureRenderMixin","React"],(function a(b,c,d,e,f,g){__p&&__p();var h=c("React").PropTypes,i=c("React").createClass({displayName:"ReactShareDialogComposerStatusAttachmentFooterContainer",contextTypes:c("ReactComposerContextTypes"),mixins:[c("ReactComponentWithPureRenderMixin"),c("ReactComposerPropsAndStoreBasedStateMixin")(c("ReactComposerTaggerStore"),c("ReactShareDialogComposerStore"))],propTypes:{showActivityNUX:h.bool},statics:{calculateState:function j(k,l){var m=c("ReactComposerTaggerStore").getTaggerData(k,c("ReactComposerTaggerType").LOCATION),n=m&&m.place&&m.place.getUniqueID();return{placeID:n,target:c("ReactShareDialogComposerStore").getTarget(k),targetInfo:c("ReactShareDialogComposerStore").getTargetInfo(k)}}},getInitialState:function j(){return{showActivityNUX:this.props.showActivityNUX}},componentWillMount:function j(){if(this.props.showActivityNUX)setTimeout(function(){this.setState({showActivityNUX:true})}.bind(this),1e3)},render:function j(){return c("React").createElement(c("ReactShareDialogComposerStatusAttachmentFooter.react"),babelHelpers["extends"]({},this.props,this.state,{posting:this.props.status.type=="posting",onActivityNUXClose:this._onActivityNUXClose,onPost:this.props.onPost}))},_onActivityNUXClose:function j(){this.setState({showActivityNUX:false});c("ComposerXNUX").sendMarkSeenRequest(c("ComposerNUXType").SHARER_MINUTIAE_NUX)}});f.exports=i}),null);
__d("ReactShareDialogComposerStatusAttachment.react",["cx","fbt","BootloadedComponent.react","ReactComposerAudienceActions","ReactComposerContextTypes","ReactComposerStatusAttachmentMentionsInputWithTagExpansionContainer.react","ReactComposerTaggerSummaryContainer.react","ReactComposerTaggerType","JSResource","MercuryConfig","ReactShareDialogAttachmentContainer.react","ShareDialogAudienceTypes","ReactShareDialogComposerStatusAttachmentFooterContainer.react","ReactShareDialogComposerActions","ShareDialogDataSources","ShareDialogDropdownForSharePostOrLink.react","ShareDialogWarningNotice.react","SharerType","React","emptyFunction","getOwnObjectValues"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j=c("React").PropTypes,k=c("React").createClass({displayName:"ReactShareDialogComposerStatusAttachment",_inputContainer:c("ReactComposerStatusAttachmentMentionsInputWithTagExpansionContainer.react"),contextTypes:c("ReactComposerContextTypes"),propTypes:{activeAudience:c("ShareDialogAudienceTypes").propType,hideWhichTaggers:j.arrayOf(j.oneOf(Object.keys(c("ReactComposerTaggerType")))),pagePrivacySelector:j.instanceOf(HTMLElement),privacySelector:j.instanceOf(HTMLElement),attachment:j.object,messageAttachment:j.object,dataSources:j.instanceOf(c("ShareDialogDataSources")),taggersData:j.object,onCancel:j.func,onPost:j.func,placeholderText:j.node,publicityWarning:j.object,showDoingNUX:j.bool,useCheckinBranding:j.bool,sharerType:j.oneOf(c("getOwnObjectValues")(c("SharerType"))),shouldAlwaysHideAllTaggers:j.bool.isRequired,shouldHideAllButtons:j.bool.isRequired,taggersConfig:j.object,postButtonLabel:j.string,postPreview:j.object},getInitialState:function l(){return{showPostPreview:this.props.postPreview!==null}},getDefaultProps:function l(){return{hideWhichTaggers:[],taggersData:{},onCancel:c("emptyFunction"),onPost:c("emptyFunction"),postPreview:null}},componentDidMount:function l(){var m=this.props.activeAudience===c("ShareDialogAudienceTypes").MESSAGE&&this.props.lockMessageTargets;if(this.props.activeAudience===c("ShareDialogAudienceTypes").OWN||this.props.activeAudience===c("ShareDialogAudienceTypes").PAGE||m)this._inputContainer.focus()},componentDidUpdate:function l(m,n){if(this.props.activeAudience===c("ShareDialogAudienceTypes").PAGE&&m.activeAudience!==c("ShareDialogAudienceTypes").PAGE)c("ReactComposerAudienceActions").setCollectionIDWithoutLogging(this.context.composerID,null)},_getDropdownForSharePostOrLink:function l(){return c("React").createElement(c("ShareDialogDropdownForSharePostOrLink.react"),{onSelectSharePostOrLink:this._onSelectSharePostOrLink})},_onSelectSharePostOrLink:function l(m){this.setState({showPostPreview:this.props.postPreview?m:false});c("ReactShareDialogComposerActions").setTypeOfShare(this.context.composerID,m)},render:function l(){__p&&__p();var m=this.props.dataSources,n=m&&this.props.activeAudience!==c("ShareDialogAudienceTypes").MESSAGE?m.getSource(c("ShareDialogDataSources").TYPES.MENTIONS):null,o=this.props.placeholderText||i._("Dites quelque chose \u00e0 propos de ceci..."),p=c("React").createElement("noscript",null);if(!this._shouldHideAllTaggers())p=c("React").createElement(c("ReactComposerTaggerSummaryContainer.react"),null);var q=this.props.activeAudience===c("ShareDialogAudienceTypes").MESSAGE||this.props.postPreview===null||this.props.isThrowbackPost?null:this._getDropdownForSharePostOrLink(),r=null;if(this.props.topicFeedsTagger&&this.props.activeAudience!==c("ShareDialogAudienceTypes").MESSAGE){var s=this.props.topicFeedsTagger.container;r=c("React").createElement(s,{composerFeedID:this.props.topicFeedsTagger.composerFeedID,photoAutoTaggingDelay:this.props.topicFeedsTagger.photoAutoTaggingDelay,showNux:this.props.topicFeedsTagger.showNux,textAutoTaggingDelay:this.props.topicFeedsTagger.textAutoTaggingDelay,photoPollingDuration:this.props.topicFeedsTagger.photoPollingDuration,photoPollingInterval:this.props.topicFeedsTagger.photoPollingInterval,reshareURL:this.props.topicFeedsTagger.reshareURL,topicLimit:this.props.topicFeedsTagger.topicLimit,darkLaunch:this.props.topicFeedsTagger.darkLaunch})}var t=c("MercuryConfig").MNNSS&&this.props.activeAudience===c("ShareDialogAudienceTypes").MESSAGE,u=c("React").createElement(c("ReactComposerStatusAttachmentMentionsInputWithTagExpansionContainer.react"),{mentionsSource:n,placeholder:o,ref:function(u){return this._inputContainer=u}.bind(this),mentionsEnabled:!t});return c("React").createElement("div",null,!t&&u,p,q,this._renderAttachment(t),!t&&this._getWarning(),r,t&&c("React").createElement("div",{className:"_3krx"},u),t?null:c("React").createElement(c("ReactShareDialogComposerStatusAttachmentFooterContainer.react"),{onCancel:this.props.onCancel,onPost:this.props.onPost,pagePrivacySelector:this.props.pagePrivacySelector,postButtonLabel:this.props.postButtonLabel,privacySelector:this.props.privacySelector,shouldHideAllButtons:this.props.shouldHideAllButtons,showActivityNUX:this.props.showDoingNUX,showWhichTaggers:this._showWhichTaggers(),status:this.props.status,taggersConfig:this.props.taggersConfig,taggersSource:this._getTaggersSource()}))},_shouldHideAllTaggers:function l(){return this.props.activeAudience===c("ShareDialogAudienceTypes").MESSAGE||this.props.shouldAlwaysHideAllTaggers},_showWhichTaggers:function l(){__p&&__p();var m={};if(this._shouldHideAllTaggers()){m[c("ReactComposerTaggerType").PEOPLE]=false;m[c("ReactComposerTaggerType").LOCATION]=false;m[c("ReactComposerTaggerType").ACTIVITY]=false;m[c("ReactComposerTaggerType").ALBUM]=false;return m}m[c("ReactComposerTaggerType").PEOPLE]=true;m[c("ReactComposerTaggerType").LOCATION]=true;m[c("ReactComposerTaggerType").ACTIVITY]=true;m[c("ReactComposerTaggerType").ALBUM]=this.props.taggersConfig&&this.props.taggersConfig[c("ReactComposerTaggerType").ALBUM]&&this.props.taggersConfig[c("ReactComposerTaggerType").ALBUM].enabled;if(this.props.hideWhichTaggers)for(var n=0,o=this.props.hideWhichTaggers.length;n<o;n++)m[this.props.hideWhichTaggers[n]]=false;return m},_getTaggersSource:function l(){var m=this.props.dataSources;if(!m)return null;var n={};n[c("ReactComposerTaggerType").PEOPLE]=m.getSource(c("ShareDialogDataSources").TYPES.PERSON);n[c("ReactComposerTaggerType").LOCATION]=m.getSource(c("ShareDialogDataSources").TYPES.PLACE);n[c("ReactComposerTaggerType").ACTIVITY]=m.getSource(c("ShareDialogDataSources").TYPES.ACTION);return n},_getTaggerData:function l(m){return this.props.taggersData?this.props.taggersData[m]:null},_getWarning:function l(){if(!this.props.publicityWarning)return c("React").createElement("noscript",null);return c("React").createElement(c("ShareDialogWarningNotice.react"),{warning:this.props.publicityWarning})},_renderAttachment:function l(m){if(m){var n=this.props.messageAttachment;return n?c("React").createElement("div",{className:"_3y6s"},c("React").createElement(c("BootloadedComponent.react"),{bootloadLoader:c("JSResource")("MercuryFallbackShareAttachment.react").__setRef("ReactShareDialogComposerStatusAttachment.react"),bootloadPlaceholder:c("React").createElement("div",null),attachment:n})):c("React").createElement("div",{className:"_3y6s"},i._("Aper\u00e7u indisponible"))}else{var o=this.state.showPostPreview&&this.props.activeAudience!==c("ShareDialogAudienceTypes").MESSAGE?this.props.postPreview:this.props.attachment;return c("React").createElement(c("ReactShareDialogAttachmentContainer.react"),{attachment:o})}}});f.exports=k}),null);
__d("ReactShareDialogComposerStatusAttachmentContainer.react",["ReactComposerContextTypes","ReactComposerPropsAndStoreBasedStateMixin","ReactComposerTaggerStore","ReactComposerTaggerType","React","ReactShareDialogComposerStore","ShareDialogAudienceTypes","ReactShareDialogComposerStatusAttachment.react","ShareDialogDataSources","emptyFunction"],(function a(b,c,d,e,f,g){var h=c("React").PropTypes,i=c("React").createClass({displayName:"ReactShareDialogComposerStatusAttachmentContainer",contextTypes:c("ReactComposerContextTypes"),mixins:[c("ReactComposerPropsAndStoreBasedStateMixin")(c("ReactComposerTaggerStore"),c("ReactShareDialogComposerStore"))],propTypes:{activeAudience:c("ShareDialogAudienceTypes").propType,attachment:h.object,dataSources:h.instanceOf(c("ShareDialogDataSources")),onCancel:h.func,onPost:h.func,pagePrivacySelector:h.instanceOf(HTMLElement),privacySelector:h.instanceOf(HTMLElement),publicityWarning:h.object,shouldAlwaysHideAllTaggers:h.bool.isRequired,shouldHideAllButtons:h.bool.isRequired,showDoingNUX:h.bool},getDefaultProps:function j(){return{onCancel:c("emptyFunction"),onPost:c("emptyFunction")}},statics:{calculateState:function j(k,l){var m=c("ReactComposerTaggerStore").getTaggerData(k,c("ReactComposerTaggerType").ACTIVITY);return{taggersData:c("ReactComposerTaggerStore").getTaggersData(k),actionIconID:m?m.actionIconID:null}}},render:function j(){return c("React").createElement(c("ReactShareDialogComposerStatusAttachment.react"),babelHelpers["extends"]({ref:"shareBody"},this.props,this.state))}});f.exports=i}),null);
__d("ReactShareDialogComposerStatusEagerAttachment.react",["ReactComposerAttachmentType","ReactComposerAttachmentBodyMixin","ShareDialogAudienceTypes","ReactShareDialogComposerStatusAttachmentContainer.react","ShareDialogDataSources","React","emptyFunction"],(function a(b,c,d,e,f,g){var h=c("React").PropTypes,i=c("React").createClass({displayName:"ReactShareDialogComposerStatusEagerAttachment",mixins:[c("ReactComposerAttachmentBodyMixin")()],propTypes:{activeAudience:c("ShareDialogAudienceTypes").propType,attachment:h.object,dataSources:h.instanceOf(c("ShareDialogDataSources")),onCancel:h.func,onPost:h.func,pagePrivacySelector:h.instanceOf(HTMLElement),privacySelector:h.instanceOf(HTMLElement),publicityWarning:h.object,selected:h.bool,shouldAlwaysHideAllTaggers:h.bool.isRequired,shouldHideAllButtons:h.bool.isRequired,showDoingNUX:h.bool,taggersConfig:h.object,via:h.object},getDefaultProps:function j(){return{selected:true,onCancel:c("emptyFunction"),onPost:c("emptyFunction")}},statics:{attachmentID:c("ReactComposerAttachmentType").STATUS},renderX:function j(){return c("React").createElement(c("ReactShareDialogComposerStatusAttachmentContainer.react"),this.props)}});f.exports=i}),null);
__d("ReactShareDialogComposer.react",["ReactComposer.react","ReactComposerBody.react","ReactComposerContextTypes","ReactComposerContextConfig","ReactComposerLoggingName","ReactComposerPrefillConfig","ReactComposerPrefillUtils","ShareDialogAudienceTypes","ReactShareDialogComposerStatusEagerAttachment.react","ShareDialogDataSources","ShareDialogStatusTypes","SharerType","React","emptyFunction","getOwnObjectValues"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("React").PropTypes,i=c("React").createClass({displayName:"ReactShareDialogComposer",contextTypes:c("ReactComposerContextTypes"),propTypes:{activeAudience:c("ShareDialogAudienceTypes").propType,attachment:h.object,contextConfig:c("ReactComposerContextConfig").isRequired,dataSources:h.instanceOf(c("ShareDialogDataSources")),onCancel:h.func,onPost:h.func,loggingConfig:h.object,pagePrivacySelector:h.instanceOf(HTMLElement),postButtonLabel:h.string,postId:h.string,prefillConfig:c("ReactComposerPrefillConfig"),privacySelector:h.instanceOf(HTMLElement),publicityWarning:h.object,sharerType:h.oneOf(c("getOwnObjectValues")(c("SharerType"))),shareType:h.string,shouldAlwaysHideAllTaggers:h.bool,shouldHideAllButtons:h.bool,showDoingNUX:h.bool,taggersConfig:h.object,triggeredFrom:h.oneOf(Object.values(c("ReactComposerLoggingName"))),useCheckinBranding:h.bool,userId:h.string.isRequired},getDefaultProps:function j(){return{onCancel:c("emptyFunction"),onPost:c("emptyFunction"),sharerType:c("SharerType").ALL_MODES,shouldAlwaysHideAllTaggers:false,shouldHideAllButtons:false,status:{type:c("ShareDialogStatusTypes").COMPOSING}}},componentWillMount:function j(){if(this.props.prefillConfig)c("ReactComposerPrefillUtils").prefill(this.props.contextConfig.composerID,this.props.prefillConfig)},_onCancel:function j(k){var l=this.props.onCancel;l&&l(k)},_onPost:function j(k){var l=this.props.onPost;l&&l(k)},render:function j(){return c("React").createElement(c("ReactComposer.react"),{hideBorders:true,loggingConfig:this.props.loggingConfig,activateOnInit:true,activateOnInitEntryPoint:this.props.triggeredFrom},c("React").createElement(c("ReactComposerBody.react"),null,c("React").createElement(c("ReactShareDialogComposerStatusEagerAttachment.react"),babelHelpers["extends"]({},this.props,{activeAudience:this.props.activeAudience,attachment:this.props.attachment,dataSources:this.props.dataSources,onCancel:this._onCancel,onPost:this._onPost,postButtonLabel:this.props.postButtonLabel,privacySelector:this.props.privacySelector,publicityWarning:this.props.publicityWarning,sharerType:this.props.sharerType,showDoingNUX:this.props.showDoingNUX,taggersConfig:this.props.taggersConfig,useCheckinBranding:this.props.useCheckinBranding}))))}});f.exports=i}),null);
__d("ShareModePage",["CSS","Input","React","ReactDOM","ShareActorSelector.react","ShareMode","UITargetedPrivacyWidget"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("ShareMode"));i=h&&h.prototype;function j(k,l,m,n,o,p){"use strict";__p&&__p();i.constructor.call(this,k);this._pageID=p;this._pageSelector=l;this._actorSelectorContainer=m;this._actorIDInput=n;this._defaultActorID=this._actorIDInput.value;this._targetingWidget=o;this._targetingWidgetInstance=null;if(this._pageSelector)this._pageSelector.subscribe("change",function(q,r){this._pageID=this._pageSelector.getValue();this.show()}.bind(this))}j.prototype._updateActorIDInput=function(){"use strict";c("Input").setValue(this._actorIDInput,this._selectedActorID)};j.prototype._updateActorSelector=function(){"use strict";c("ReactDOM").render(c("React").createElement(c("ShareActorSelector.react"),{onChange:function(k){this._selectedActorID=k.value;this.show()}.bind(this),targetID:this._pageID}),this._actorSelectorContainer)};j.prototype._updateTargetingWidget=function(){"use strict";if(!this._targetingWidgetInstance)this._targetingWidgetInstance=c("UITargetedPrivacyWidget").getInstance(this._targetingWidget.id);if(this._targetingWidgetInstance)this._targetingWidgetInstance.setProfileID(this._selectedActorID);c("CSS").conditionShow(this._targetingWidget,this._pageID===c("Input").getValue(this._actorIDInput,this._selectedActorID))};j.prototype.show=function(){"use strict";this._updateActorSelector();this._updateActorIDInput();this._updateTargetingWidget()};j.prototype.hide=function(){"use strict";c("Input").setValue(this._actorIDInput,this._defaultActorID);c("CSS").hide(this._targetingWidget)};f.exports=j}),null);